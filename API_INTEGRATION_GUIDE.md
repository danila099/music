# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤–Ω–µ—à–Ω–∏—Ö API

## üìã **–ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:**

### **1. –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ API:**
- **Spotify API** - –ø–æ–∏—Å–∫ —Ç—Ä–µ–∫–æ–≤, –ø–ª–µ–π–ª–∏—Å—Ç—ã, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- **Last.fm API** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è, –ø–æ—Ö–æ–∂–∏–µ —Ç—Ä–µ–∫–∏
- **YouTube Data API** - –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –≤–∏–¥–µ–æ, –∫–ª–∏–ø—ã
- **Genius API** - —Ç–µ–∫—Å—Ç—ã –ø–µ—Å–µ–Ω, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è—Ö
- **Deezer API** - –∫–∞—Ç–∞–ª–æ–≥ –º—É–∑—ã–∫–∏, –ø–ª–µ–π–ª–∏—Å—Ç—ã
- **VK Music API** - —Ä—É—Å—Å–∫–∞—è –º—É–∑—ã–∫–∞, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### **2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ API:**
- **OpenWeather API** - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –º—É–∑—ã–∫–∏ –ø–æ –ø–æ–≥–æ–¥–µ
- **News API** - –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
- **Translation API** - –ø–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–æ–≤ –ø–µ—Å–µ–Ω
- **AI/ML API** - —É–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üîß **–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å API:**

### **–®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π**

#### **Spotify API:**
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [Spotify Developer Dashboard](https://developer.spotify.com/dashboard)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü–æ–ª—É—á–∏—Ç–µ `Client ID` –∏ `Client Secret`
4. –î–æ–±–∞–≤—å—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
SPOTIFY_CLIENT_ID=your_client_id
SPOTIFY_CLIENT_SECRET=your_client_secret
```

#### **Last.fm API:**
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [Last.fm API](https://www.last.fm/api)
2. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –∏ –ø–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á
3. –î–æ–±–∞–≤—å—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
LASTFM_API_KEY=your_api_key
```

#### **YouTube Data API:**
1. –ó–∞–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ –≤–∫–ª—é—á–∏—Ç–µ YouTube Data API
3. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á
4. –î–æ–±–∞–≤—å—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
YOUTUBE_API_KEY=your_api_key
```

### **–®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ API –∫–ª–∏–µ–Ω—Ç–∞**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `api_clients.py`:

```python
import os
import requests
from typing import Dict, List, Optional

class SpotifyClient:
    def __init__(self):
        self.client_id = os.getenv('SPOTIFY_CLIENT_ID')
        self.client_secret = os.getenv('SPOTIFY_CLIENT_SECRET')
        self.access_token = None
    
    def authenticate(self):
        # –õ–æ–≥–∏–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
        pass
    
    def search_tracks(self, query: str) -> List[Dict]:
        # –ü–æ–∏—Å–∫ —Ç—Ä–µ–∫–æ–≤
        pass

class LastFMClient:
    def __init__(self):
        self.api_key = os.getenv('LASTFM_API_KEY')
    
    def get_similar_tracks(self, artist: str, track: str) -> List[Dict]:
        # –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Ö–æ–∂–∏—Ö —Ç—Ä–µ–∫–æ–≤
        pass
```

### **–®–∞–≥ 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Flask**

–î–æ–±–∞–≤—å—Ç–µ –º–∞—Ä—à—Ä—É—Ç—ã –≤ `main.py`:

```python
from api_clients import SpotifyClient, LastFMClient

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
spotify_client = SpotifyClient()
lastfm_client = LastFMClient()

@app.route('/api/spotify/search')
def spotify_search():
    query = request.args.get('q', '')
    if not query:
        return jsonify([])
    
    tracks = spotify_client.search_tracks(query)
    return jsonify(tracks)

@app.route('/api/lastfm/similar/<artist>/<track>')
def lastfm_similar(artist, track):
    similar = lastfm_client.get_similar_tracks(artist, track)
    return jsonify(similar)
```

### **–®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞**

–î–æ–±–∞–≤—å—Ç–µ JavaScript —Ñ—É–Ω–∫—Ü–∏–∏:

```javascript
// –ü–æ–∏—Å–∫ –≤ Spotify
async function searchSpotify(query) {
    try {
        const response = await fetch(`/api/spotify/search?q=${encodeURIComponent(query)}`);
        const tracks = await response.json();
        displaySpotifyResults(tracks);
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ Spotify:', error);
    }
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Ö–æ–∂–∏—Ö —Ç—Ä–µ–∫–æ–≤
async function getSimilarTracks(artist, track) {
    try {
        const response = await fetch(`/api/lastfm/similar/${encodeURIComponent(artist)}/${encodeURIComponent(track)}`);
        const similar = await response.json();
        displaySimilarTracks(similar);
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Ö–æ–∂–∏—Ö —Ç—Ä–µ–∫–æ–≤:', error);
    }
}
```

## üéØ **–ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π:**

### **1. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–≥–æ–¥–µ:**
```python
def get_weather_recommendations(city: str) -> List[str]:
    weather = weather_api.get_weather(city)
    if weather['temp'] > 25:
        return ['–õ–∞—Ç–∏–Ω–æ', '–†–µ–≥–≥–∏', '–ü–æ–ø']
    elif weather['temp'] < 0:
        return ['–ú–µ—Ç–∞–ª', '–†–æ–∫', '–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞']
    else:
        return ['–ü–æ–ø', '–î–∂–∞–∑', '–ö–ª–∞—Å—Å–∏–∫–∞']
```

### **2. –£–º–Ω—ã–µ –ø–ª–µ–π–ª–∏—Å—Ç—ã:**
```python
def create_smart_playlist(mood: str, genre: str) -> List[Dict]:
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞
    spotify_tracks = spotify_client.get_tracks_by_mood(mood)
    lastfm_similar = lastfm_client.get_similar_by_genre(genre)
    
    # –û–±—ä–µ–¥–∏–Ω—è–µ–º –∏ —Ä–∞–Ω–∂–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    return rank_and_merge_tracks(spotify_tracks, lastfm_similar)
```

### **3. –¢–µ–∫—Å—Ç—ã –ø–µ—Å–µ–Ω:**
```python
def get_lyrics(artist: str, track: str) -> str:
    # –ü—Ä–æ–±—É–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
    lyrics = genius_client.get_lyrics(artist, track)
    if not lyrics:
        lyrics = musixmatch_client.get_lyrics(artist, track)
    return lyrics
```

## üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**

### **1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç–µ API –∫–ª—é—á–∏ –≤ –∫–æ–¥–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `.env` (–¥–æ–±–∞–≤—å—Ç–µ –≤ .gitignore)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `python-dotenv`

### **2. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:**
```python
from functools import wraps
import time

def rate_limit(max_requests=100, window=3600):
    def decorator(f):
        @wraps(f)
        def wrapper(*args, **kwargs):
            # –õ–æ–≥–∏–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
            return f(*args, **kwargs)
        return wrapper
    return decorator
```

### **3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```python
import redis

redis_client = redis.Redis(host='localhost', port=6379, db=0)

def cached_api_call(ttl=3600):
    def decorator(f):
        @wraps(f)
        def wrapper(*args, **kwargs):
            cache_key = f"{f.__name__}:{hash(str(args) + str(kwargs))}"
            cached = redis_client.get(cache_key)
            if cached:
                return json.loads(cached)
            
            result = f(*args, **kwargs)
            redis_client.setex(cache_key, ttl, json.dumps(result))
            return result
        return wrapper
    return decorator
```

## üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**

```python
import logging
from datetime import datetime

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

def log_api_call(api_name: str, endpoint: str, status: str):
    logger.info(f"API Call: {api_name} - {endpoint} - {status} - {datetime.now()}")
```

## üöÄ **–ì–æ—Ç–æ–≤—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**

### **1. Spotify Integration:**
- –ü–æ–∏—Å–∫ —Ç—Ä–µ–∫–æ–≤ –∏ –∞–ª—å–±–æ–º–æ–≤
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∂–∞–Ω—Ä–æ–≤
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è—Ö

### **2. Last.fm Integration:**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
- –ü–æ—Ö–æ–∂–∏–µ —Ç—Ä–µ–∫–∏ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏
- –¢–æ–ø —á–∞—Ä—Ç—ã
- –¢–µ–≥–∏ –∏ –∂–∞–Ω—Ä—ã

### **3. YouTube Integration:**
- –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –≤–∏–¥–µ–æ
- –ö–ª–∏–ø—ã –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- Live –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è
- –ü–ª–µ–π–ª–∏—Å—Ç—ã YouTube

### **4. Weather + Music:**
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–≥–æ–¥–µ
- –°–µ–∑–æ–Ω–Ω—ã–µ –ø–ª–µ–π–ª–∏—Å—Ç—ã
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–∞—è –º—É–∑—ã–∫–∞

## üí° **–ò–¥–µ–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è:**

1. **AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
2. **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** - –æ–±–º–µ–Ω –ø–ª–µ–π–ª–∏—Å—Ç–∞–º–∏
3. **–ì–æ–ª–æ—Å–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Alexa/Siri
4. **AR/VR** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º—É–∑—ã–∫–∏
5. **IoT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —É–º–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏
6. **–ë–ª–æ–∫—á–µ–π–Ω** - —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è –º—É–∑—ã–∫–∏

## üìö **–ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:**

- [Spotify Web API](https://developer.spotify.com/documentation/web-api/)
- [Last.fm API](https://www.last.fm/api)
- [YouTube Data API](https://developers.google.com/youtube/v3)
- [Genius API](https://docs.genius.com/)
- [OpenWeather API](https://openweathermap.org/api) 